-- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è FPS —Å –∫–Ω–æ–ø–∫–æ–π –≤–∫–ª/–≤—ã–∫–ª
local Lighting = game:GetService("Lighting")
local RunService = game:GetService("RunService")
local Players = game:GetService("Players")

local LocalPlayer = Players.LocalPlayer
local isEnabled = true

-- –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ü–ï–†–ï–î –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º
local originalSettings = {
    GlobalShadows = Lighting.GlobalShadows,
    ShadowSoftness = Lighting.ShadowSoftness,
    Technology = Lighting.Technology,
    Brightness = Lighting.Brightness,
    GeographicLatitude = Lighting.GeographicLatitude,
    OutdoorAmbient = Lighting.OutdoorAmbient,
    ClockTime = Lighting.ClockTime,
    FogEnd = Lighting.FogEnd,
    FogStart = Lighting.FogStart,
    Ambient = Lighting.Ambient,
    ColorShift_Bottom = Lighting.ColorShift_Bottom,
    ColorShift_Top = Lighting.ColorShift_Top
}

-- –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
local originalEffects = {}
for _, effect in pairs(Lighting:GetChildren()) do
    if effect:IsA("PostEffect") then
        originalEffects[effect.Name] = effect.Enabled
    end
end

-- –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ —á–∞—Å—Ç–∏—Ü—ã
local originalParticles = {}
for _, obj in pairs(workspace:GetDescendants()) do
    if obj:IsA("ParticleEmitter") or obj:IsA("Trail") or obj:IsA("Beam") or obj:IsA("Smoke") or obj:IsA("Fire") then
        originalParticles[obj] = obj.Enabled
    end
end

-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ FPS
local function enableMaxFPS()
    -- –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫–ª—é—á–∞–µ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
    settings().Rendering.QualityLevel = 1
    
    -- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Å–≤–µ—â–µ–Ω–∏—è
    Lighting.GlobalShadows = false
    Lighting.ShadowSoftness = 0
    Lighting.Technology = Enum.Technology.Legacy
    Lighting.Brightness = 2
    Lighting.GeographicLatitude = 41.733
    Lighting.OutdoorAmbient = Color3.fromRGB(128, 128, 128)
    Lighting.ClockTime = 14
    Lighting.FogEnd = 100000
    Lighting.FogStart = 100000
    Lighting.Ambient = Color3.fromRGB(128, 128, 128)
    
    -- –û—Ç–∫–ª—é—á–∞–µ–º –≤—Å–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
    for _, effect in pairs(Lighting:GetChildren()) do
        if effect:IsA("PostEffect") then
            effect.Enabled = false
        end
    end
    
    -- –û—Ç–∫–ª—é—á–∞–µ–º —á–∞—Å—Ç–∏—Ü—ã –∏ —ç—Ñ—Ñ–µ–∫—Ç—ã
    for _, obj in pairs(workspace:GetDescendants()) do
        if obj:IsA("ParticleEmitter") or obj:IsA("Trail") or obj:IsA("Beam") or obj:IsA("Smoke") or obj:IsA("Fire") then
            pcall(function() obj.Enabled = false end)
        end
    end
    
    -- –û–¢–ö–õ–Æ–ß–ê–ï–ú 3D –†–ï–ù–î–ï–†–ò–ù–ì
    RunService:Set3dRenderingEnabled(false)
    
    print("üî• –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–´–ô FPS –ê–ö–¢–ò–í–ò–†–û–í–ê–ù!")
end

-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
local function disableMaxFPS()
    -- –í–ö–õ–Æ–ß–ê–ï–ú 3D –†–ï–ù–î–ï–†–ò–ù–ì
    RunService:Set3dRenderingEnabled(true)
    
    -- –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–∞—á–µ—Å—Ç–≤–æ
    settings().Rendering.QualityLevel = 3
    
    -- –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Å–≤–µ—â–µ–Ω–∏–µ
    Lighting.GlobalShadows = originalSettings.GlobalShadows
    Lighting.ShadowSoftness = originalSettings.ShadowSoftness
    Lighting.Technology = originalSettings.Technology
    Lighting.Brightness = originalSettings.Brightness
    Lighting.GeographicLatitude = originalSettings.GeographicLatitude
    Lighting.OutdoorAmbient = originalSettings.OutdoorAmbient
    Lighting.ClockTime = originalSettings.ClockTime
    Lighting.FogEnd = originalSettings.FogEnd
    Lighting.FogStart = originalSettings.FogStart
    Lighting.Ambient = originalSettings.Ambient
    Lighting.ColorShift_Bottom = originalSettings.ColorShift_Bottom
    Lighting.ColorShift_Top = originalSettings.ColorShift_Top
    
    -- –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —ç—Ñ—Ñ–µ–∫—Ç—ã
    for _, effect in pairs(Lighting:GetChildren()) do
        if effect:IsA("PostEffect") and originalEffects[effect.Name] ~= nil then
            effect.Enabled = originalEffects[effect.Name]
        end
    end
    
    -- –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —á–∞—Å—Ç–∏—Ü—ã
    for obj, enabled in pairs(originalParticles) do
        if obj and obj.Parent then
            pcall(function() obj.Enabled = enabled end)
        end
    end
    
    print("üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≥—Ä–∞—Ñ–∏–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã")
end

-- –°–æ–∑–¥–∞–µ–º –∫–Ω–æ–ø–∫—É
local function createToggleButton()
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "FPSBoosterGUI"
    ScreenGui.Parent = LocalPlayer.PlayerGui
    ScreenGui.ResetOnSpawn = false

    local ToggleButton = Instance.new("TextButton")
    ToggleButton.Size = UDim2.new(0, 120, 0, 40)
    ToggleButton.Position = UDim2.new(1, -130, 0, 10)
    ToggleButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    ToggleButton.TextColor3 = Color3.fromRGB(200, 200, 200)
    ToggleButton.Font = Enum.Font.GothamBold
    ToggleButton.TextSize = 12
    ToggleButton.Text = "FPS BOOST: ON"
    ToggleButton.Parent = ScreenGui

    local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(0, 6)
    Corner.Parent = ToggleButton

    -- –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞
    ToggleButton.MouseButton1Click:Connect(function()
        isEnabled = not isEnabled
        
        if isEnabled then
            enableMaxFPS()
            ToggleButton.Text = "FPS BOOST: ON"
            ToggleButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
        else
            disableMaxFPS()
            ToggleButton.Text = "FPS BOOST: OFF"
            ToggleButton.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
        end
    end)

    return ScreenGui
end

-- –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
task.wait(1)
enableMaxFPS()
createToggleButton()
